user : generate terraform code for creating an EC2 in an existing VPC
assistant : Sure, here is a simple example of Terraform configuration file ("main.tf") for creating an AWS EC2 instance in an existing VPC.

```hcl
provider "aws" {
  region = "us-west-2" # or your preferred AWS region
}

resource "aws_instance" "example" {
  ami           = "ami_0c55b159cbfafe1f0" # put your Amazon Machine Image ID
  instance_type = "t2.micro" # or your preferred EC2 instance type

  # the subnet_id attribute below assumes that you know the ID of the subnet
  # within your existing VPC where you want the EC2 instance to live:
  subnet_id = "subnet_0bb1c79d6f0d32g29" # put your subnet id in the existing VPC

  vpc_security_group_ids = ["sg-03a3ddeea13d28523"] # specify your security group

  key_name   = "my_keypair" 
  user_data = <<-EOF
              #!/bin/bash
              echo "Hello, World!" > index.html
              nohup busybox httpd -f -p 8080 &
              EOF

  tags = {
    Name = "example-instance"
  }
}
```

Please replace placeholder text (region, instances type, AMI, VPC, subnet ids, keypair, and groups) with your actual id/tags. This is a basic instance, modify it according to your requirements.

This configuration includes a basic instance with no additional storage or network interfaces. Also, no configuration management or bootsrap scripts exist. Usually for an application or production deployment, additional resources are needed.
